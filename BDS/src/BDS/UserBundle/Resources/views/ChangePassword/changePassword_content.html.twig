{% trans_default_domain 'FOSUserBundle' %}

<div class="well">
  <form action="{{ path('fos_user_change_password') }}" {{ form_enctype(form) }} method="POST" class="fos_user_change_password">
  
    {# Les erreurs générales du formulaire. #}
	    <div class="alert alert-danger alert-dismissible" role="alert">
	    <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
	    {{ form_errors(form) }}
	    </div>

    <div class="form-group">
      {# Génération du label. #}
      {{ form_label(form.current_password, "Mot de passe actuel : ", {'label_attr': {'class': 'control-label'}}) }}
        {# Génération de l'input. #}
        {{ form_widget(form.current_password, {'attr': {'class': 'form-control'}}) }}
    </div>

    {# Idem pour un autre champ. #} 
	<div class="form-group">
	{{ form_label(form.plainPassword.first, "nouveau mot de passe : ", {'label_attr': {'class': 'control-label'}}) }}
	{{ form_widget(form.plainPassword.first, {'label_attr': {'class': 'control-label'}}) }}
	</div>
	
	{# Idem pour un autre champ. #}
	<div class="form-group">
	{{ form_label(form.plainPassword.second, "Répeter le nouveau mot de passe : ", {'label_attr': {'class': 'control-label'}}) }}
	{{ form_widget(form.plainPassword.second, {'label_attr': {'class': 'control-label'}}) }}
	</div>
	
  	{# Génération automatique des champs pas encore écrits.
   	Dans cet exemple, ce serait le champ CSRF (géré automatiquement par Symfony !)
    et tous les champs cachés (type « hidden »). #}
  	{{ form_rest(form) }}
  	
   <input class="btn btn-primary" type="submit" id="_submit" name="_submit" value="sauvegarder" />
   
  </form>
</div>